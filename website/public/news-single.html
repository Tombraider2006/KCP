<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">–ù–æ–≤–æ—Å—Ç—å - 3D Printer Control Panel</title>
    <meta name="description" content="–ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ 3D Printer Control Panel">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/favicon.ico">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo">
                <span class="logo-text">üñ®Ô∏è 3D Printer Control Panel</span>
            </a>
            <nav class="nav">
                <ul>
                    <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="/downloads">–°–∫–∞—á–∞—Ç—å</a></li>
                    <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="news-single" id="news-content">
            <p style="text-align: center; padding: 60px 20px;">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏...</p>
        </div>
        
        <div style="margin-top: 40px; text-align: center;">
            <a href="/news" class="btn-primary">‚Üê –ù–∞–∑–∞–¥ –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/downloads">–°–∫–∞—á–∞—Ç—å</a>
                <a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a>
                <a href="/license.html">–õ–∏—Ü–µ–Ω–∑–∏—è</a>
            </div>
            <p>&copy; 2025 3D Printer Control Panel by Tom Tomich</p>
        </div>
    </footer>

    <script>
        // Get slug from URL
        const slug = window.location.pathname.split('/').pop();

        // Fetch news by slug
        fetch(`/api/news/${slug}`)
            .then(res => {
                if (!res.ok) throw new Error('News not found');
                return res.json();
            })
            .then(news => {
                // Update page title
                document.getElementById('page-title').textContent = `${news.title} - 3D Printer Control Panel`;
                
                // Format date
                const date = new Date(news.created_at);
                const formattedDate = date.toLocaleDateString('ru-RU', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });

                // Display news
                document.getElementById('news-content').innerHTML = `
                    <h1>${news.title}</h1>
                    <div class="news-meta">
                        üìÖ ${formattedDate}
                    </div>
                    <div class="news-body">
                        ${news.content}
                    </div>
                `;
            })
            .catch(err => {
                console.error('Error loading news:', err);
                document.getElementById('news-content').innerHTML = `
                    <div style="text-align: center; padding: 60px 20px;">
                        <h2>‚ùå –ù–æ–≤–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h2>
                        <p>–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è –Ω–æ–≤–æ—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞.</p>
                        <a href="/news" class="btn-primary" style="margin-top: 20px; display: inline-block;">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
                    </div>
                `;
            });
    </script>
</body>
</html>

